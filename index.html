


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta content="Vitis, Database, Vitis Database Library, Alveo" name="keywords" />
<meta content="Vitis Database Library is an open-sourced Vitis library written in C++ for accelerating database applications in a variety of use cases." name="description" />
<meta content="Document" name="xlnxdocumentclass" />
<meta content="Tutorials" name="xlnxdocumenttype" />
<meta content="Vitis, Database, Vitis Database Library, Alveo" name="keywords" />
<meta content="Vitis Database Library is an open-sourced Vitis library written in C++ for accelerating database applications in a variety of use cases." name="description" />
<meta content="Document" name="xlnxdocumentclass" />
<meta content="Tutorials" name="xlnxdocumenttype" />

		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="_static/js/gtm.js"></script>
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="_static/js/linkid.js"></script>
    <script type="text/javascript" src="_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Xilinx Alveo Graph Analytics Products" href="overview.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Xilinx Alveo Graph Analytics Products
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Xilinx Alveo Graph Analytics Products</a></li>
</ul>
<p class="caption"><span class="caption-text">Running Alveo Demo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="running-demo.html">Running Cosine Similarity Acceleration Demo</a></li>
</ul>
<p class="caption"><span class="caption-text">Integrate with TigerGraph</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="integrate-tg.html">Integration with TigerGraph</a></li>
</ul>
<p class="caption"><span class="caption-text">Vitis Development Flow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vitis-dev-flow.html">Vitis Development Flow</a></li>
</ul>

            
			
				<h3>Versions</h3>
				<ul>
				  <li><a href=""></a></li>
				</ul>
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Xilinx Alveo Graph Analytics Products</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Xilinx Alveo Graph Analytics Products</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xilinx-alveo-graph-analytics-products">
<span id="brief"></span><h1>Xilinx Alveo Graph Analytics Products<a class="headerlink" href="#xilinx-alveo-graph-analytics-products" title="Permalink to this headline">¶</a></h1>
<div class="section" id="high-level-architecture">
<h2>High Level Architecture<a class="headerlink" href="#high-level-architecture" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-use-cases">
<h3>General use cases<a class="headerlink" href="#general-use-cases" title="Permalink to this headline">¶</a></h3>
<div class="section" id="synthea-use-case">
<h4>Synthea use case<a class="headerlink" href="#synthea-use-case" title="Permalink to this headline">¶</a></h4>
<p>Health and medical professionals are required to make predictions for diagnosis and prognosis in various medical problems. Individualized predictive analytics based on patient similarity is becoming popular in this field to identify similar patients to an index patient, derive insights from the records of the similar patients, and provide personalized predictions. Studies have shown that Consine similarity metrics can outperform conventional predictive modeling in which all available patient data are analyzed. The improved prediction performance is achieved at the cost of increased computational burden.</p>
<p>Xilinx Graph Analytics library optimized for <a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/alveo.html">Alveo Adaptable Accelerator Cards</a>
has been demonstrated on <a class="reference external" href="https://synthetichealth.github.io/synthea/">Synthea</a> generated
patient data to greatly reduce that computational burden and provide predication results
for patients more rapidly. Synthea&lt;sup&gt;TM&lt;/sup&gt; is an open-source, synthetic patient
generator that models the medical history of synthetic patients and provides high-quality,
synthetic, realistic but not real, patient data and associated health records covering
every aspect of healthcare.</p>
</div>
<div class="section" id="product-recommendation">
<h4>Product recommendation<a class="headerlink" href="#product-recommendation" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="healthcare">
<h4>Healthcare<a class="headerlink" href="#healthcare" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="helpdesk">
<h4>Helpdesk<a class="headerlink" href="#helpdesk" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="log-file-errors">
<h4>Log file errors<a class="headerlink" href="#log-file-errors" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="security">
<h4>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="xilinx-vitis-graph-analytics-acceleration-library-plugin-for-tigergraph">
<h2>Xilinx Vitis Graph Analytics Acceleration Library Plugin for TigerGraph<a class="headerlink" href="#xilinx-vitis-graph-analytics-acceleration-library-plugin-for-tigergraph" title="Permalink to this headline">¶</a></h2>
<p>Xilinx Vitis Graph Analytics Acceleration Libray is seamlessly integrated with
TigerGraph as a plugin. The low level hardware details are transparent to TigerGraph users.</p>
<p>The plugin consists of two major components as shown in the block diagram below:</p>
<ul class="simple">
<li><p>Xilinx Vitis Graph Analytics Library is provided as custom TigerGraph User Defined
Function(UDF) that can be called directly from GSQL.</p></li>
<li><p>Xilinx Resource Manager (XRM) and Xilinx Run Time (XRT) libraries are installed
on all processing nodes to manage resource allocation on Alveo Acceleration cards and data movement between the CPU and the FPGA.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/xilinx-tg-plugin.png"><img alt="Xilinx Tigergraph Plugin" class="align-center" src="_images/xilinx-tg-plugin.png" style="width: 508.2px; height: 415.8px;" /></a>
</div>
<div class="section" id="cosine-similarity">
<h2>Cosine similarity<a class="headerlink" href="#cosine-similarity" title="Permalink to this headline">¶</a></h2>
<p>Cosine similarity is a measure of similarity between two non-zero vectors of an
inner product space:</p>
<a class="reference internal image-reference" href="_images/cosine-similarity-formula.svg"><img alt="Cosine Similarity Formula" class="align-center" src="_images/cosine-similarity-formula.svg" /></a>
<p>In TigerGraph patients information and medical history are represented as vertices
and edges in a graph database as shown below:</p>
<a class="reference internal image-reference" href="_images/synthea-patient-schema.png"><img alt="Cosine Similarity Formula" class="align-center" src="_images/synthea-patient-schema.png" style="width: 504.59999999999997px; height: 376.2px;" /></a>
<p>Each attribute (e.g. age, gender, race, immunization, etc) of a patient is mapped to
a numerical value and becomes a feature of the patient vector. In our PoC design each
paitent vector consists of 198 features and each feature is stored as a 32-bit
integer. Consine similarity is calcualted between the index patient vector and all
other patient vectors. The results are then sorted and the top 100 patients with
highest scores are presented. Below are the details of the feature map:</p>
<table class="docutils align-center" id="id1" style="width: 50%">
<caption><span class="caption-text">Patient feature map</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature (INT)</p></th>
<th class="head"><p>Descriptions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Norm</p></td>
</tr>
<tr class="row-odd"><td><p>1-2</p></td>
<td><p>64-bit patient VID</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>age</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>gender</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>race</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>ethnicity</p></td>
</tr>
<tr class="row-even"><td><p>7-19</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-odd"><td><p>20-39</p></td>
<td><p>immunization map</p></td>
</tr>
<tr class="row-even"><td><p>40-59</p></td>
<td><p>allergy map</p></td>
</tr>
<tr class="row-odd"><td><p>60-109</p></td>
<td><p>conditions map</p></td>
</tr>
<tr class="row-even"><td><p>110-139</p></td>
<td><p>imaging studies map</p></td>
</tr>
<tr class="row-odd"><td><p>140-189</p></td>
<td><p>procedures map</p></td>
</tr>
<tr class="row-even"><td><p>190-209</p></td>
<td><p>careplans map</p></td>
</tr>
</tbody>
</table>
<div class="section" id="cosine-similarity-gsql">
<h3>Cosine similarity GSQL<a class="headerlink" href="#cosine-similarity-gsql" title="Permalink to this headline">¶</a></h3>
<p>TigerGraph uses GSQL query language for fast and scalable graph operations and analytics. A GSQL script of patient similarity using cosine similarity is created to baseline the
functionalities and computation complexity of the algorithm. It is used to verify and validate the functional
correctness and performance improvement of the Alveo accelerated desgin. Below is the block diagram of cosine
similarity computation in GSQL, which is executed entirely on CPU.</p>
<a class="reference internal image-reference" href="_images/cosine-similarity-gsql.png"><img alt="Cosine Similarity GSQL" class="align-center" src="_images/cosine-similarity-gsql.png" style="width: 466.2px; height: 155.4px;" /></a>
<p>Below is the code snippet of cosine similarity in GSQL.</p>
<a class="reference internal image-reference" href="_images/tg-graph-algorithm-cosine-similarity.png"><img alt="Tigergraph Cosine Similarity Algorithm" class="align-center" src="_images/tg-graph-algorithm-cosine-similarity.png" style="width: 709.1999999999999px; height: 112.2px;" /></a>
<div class="section" id="fpga-accelerated-cosine-similarity-function">
<h4>FPGA Accelerated cosine similarity function<a class="headerlink" href="#fpga-accelerated-cosine-similarity-function" title="Permalink to this headline">¶</a></h4>
<p>Xilinx Vitis Graph Analytics Library plugin provides a user defined function that
offloads the computation  of cosine simimarity and the top K highest scores to the FPGA:</p>
<a class="reference internal image-reference" href="_images/cosine-similarity-alveo.png"><img alt="Cosine Similarity on Alveo" class="align-center" src="_images/cosine-similarity-alveo.png" style="width: 661.1999999999999px; height: 222.0px;" /></a>
<p>The accelerated cosine simlarity UDF consists of two parts:</p>
<ul class="simple">
<li><p>Host code: C++ code that runs on the CPU to manage resource allocation and data
movement between the CPU and the FPGA</p></li>
<li><p>Kernel: custom computation hardware logic that utilizes massive parallel
processing horsepwer and abundant on-chip memory on FPGA. Each kernel contains
two compute units(CUs) running in parallel with each CU connecting to one HBM
stack that stores patients’ records.</p></li>
</ul>
<p>Below is the code snippet of cosine similarity accelerated on Alveo card using Tigergraph UDF.</p>
<a class="reference internal image-reference" href="_images/tg-query-cosine-similarity-fpga-gsql.png"><img alt="_images/tg-query-cosine-similarity-fpga-gsql.png" class="align-center" src="_images/tg-query-cosine-similarity-fpga-gsql.png" style="width: 858.6px; height: 19.2px;" /></a>
<a class="reference internal image-reference" href="_images/tg-query-cosine-similarity-fpga-udf.png"><img alt="_images/tg-query-cosine-similarity-fpga-udf.png" class="align-center" src="_images/tg-query-cosine-similarity-fpga-udf.png" style="width: 1005.0px; height: 24.0px;" /></a>
<a class="reference internal image-reference" href="_images/cosine-similarity-kernel-top.png"><img alt="_images/cosine-similarity-kernel-top.png" class="align-center" src="_images/cosine-similarity-kernel-top.png" style="width: 368.4px; height: 322.2px;" /></a>
<p>The kernel design for each CU is illustrated in the block diagram below. Each CU
contains 16 fully pipelined cosine similarity processing elements (PEs) and one
MaxK components to choose the top similarities. The 16 PEs are connected to 16
channels to access 5M patients’ data in parallel. The incoming new patient’s record
is transmitted to the FPGA’s PLRAM by the host and then duplicated to 16 PEs. The MaxK
primitive calculates the top cosine similarities and their corresponding indices and
writes them to the PLRAM, which is read out by the host. In the end, the host
will do a simple computation to extract the final top similarities from the top
similarity sets computed by the two CUs.</p>
<a class="reference internal image-reference" href="_images/cosine-similarity-kernel-block-diagram.png"><img alt="_images/cosine-similarity-kernel-block-diagram.png" class="align-center" src="_images/cosine-similarity-kernel-block-diagram.png" style="width: 781.1999999999999px; height: 288.59999999999997px;" /></a>
</div>
<div class="section" id="run-cosine-similarity-on-alveo-u50-card">
<h4>Run Cosine Similarity on Alveo U50 Card<a class="headerlink" href="#run-cosine-similarity-on-alveo-u50-card" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/alveo/u50.html">Xilinx® Alveo™ U50 Data Center accelerator cards</a>
provide optimized acceleration for workloads in financial computing, machine
learning, computational storage, and data search and analytics. Alveo U50 is
designed for deployment in any server with the following features:</p>
<ul class="simple">
<li><p>Built on Xilinx UltraScale+ architecture</p></li>
<li><p>Efficient 75-watt, small form factor</p></li>
<li><p>100 Gbps networking I/O</p></li>
<li><p>PCIe Gen4</p></li>
<li><p>HBM</p></li>
</ul>
<p>Xilinx has demonstrated 400x acceleration of cosine simlarity running on Alveo
U50 cards comparing to a server with 128 CPU cores and 256GB RAM. A demo
utilizing Xilinx TigerGraph plugin with Alveo U50 acceleration card is included
in this repository to show the general usage of the plugin and the development
flow of custom graph algorithm accelerators on Xilinx Alveo cards in TigerGraph. Please
Check [Running Alveo Demo](docs/running_demo.md) for detailed instructions on how to
run the demo on premise.</p>
</div>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Licensed using the [Apache 2.0 license](<a class="reference external" href="https://www.apache.org/licenses/LICENSE-2.0">https://www.apache.org/licenses/LICENSE-2.0</a>).</p>
<blockquote>
<div><p>Copyright 2020-2021 Xilinx, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<blockquote>
<div><p><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</div></blockquote>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
Copyright 2020-2021 Xilinx, Inc.</p>
</div></blockquote>
</div>
<div class="section" id="trademark-notice">
<h2>Trademark Notice<a class="headerlink" href="#trademark-notice" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Xilinx, the Xilinx logo, Artix, ISE, Kintex, Spartan, Virtex, Zynq, and
other designated brands included herein are trademarks of Xilinx in the
United States and other countries.</p>
<p>All other trademarks are the property of their respective owners.</p>
</div></blockquote>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Xilinx Alveo Graph Analytics Products</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Running Alveo Demo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="running-demo.html">Running Cosine Similarity Acceleration Demo</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Integrate with TigerGraph</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="integrate-tg.html">Integration with TigerGraph</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Vitis Development Flow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="vitis-dev-flow.html">Vitis Development Flow</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="overview.html" class="btn btn-neutral float-right" title="Xilinx Alveo Graph Analytics Products" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on March 16, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>