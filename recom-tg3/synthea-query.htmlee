


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/target-highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../_static/doxyrest-pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Error Log Analysis" href="usecases-log.html" />
    <link rel="prev" title="Run Jupyter Notebook" href="synthea-jupyter.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Xilinx Alveo Graph Analytics Products
          

          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Applications</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../cosinesim/usecases.html"> Recommendation System</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../cosinesim/getting-started-tg.html">TigerGraph Users</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../common/deploy-alveo.html">Deploy Alveo card</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/install-tigergraph.html">Install TigerGraph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/install-conda-python.html">Install Python Virtual Environment (PyTigerGraph users ONLY)</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html">Install Recommendation System</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="demos.html">Run Demo(s)</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="synthea.html">Patient Similarity using Synthetic Patient Data (Synthea)</a></li>
<li class="toctree-l4"><a class="reference internal" href="usecases-log.html">Error Log Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="usecases-healthcare.html">Heathcare Concept Similarity with UMLS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cosinesim/getting-started-standalone.html">C++/Python Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../louvainmod/fraud-detection.html"> Fraud Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mis/supply-chain.html"> Supply Chain Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fuzzymatch/entity-resolution.html"> Entity Resolution</a></li>
</ul>
<p class="caption"><span class="caption-text">Algorithms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cosinesim/index.html">Cosine Similarity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../louvainmod/index.html">Louvain Modularity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mis/index.html">Maximal Independent Set</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fuzzymatch/index.html">Levenstein Edit Distance (Fuzzy Match)</a></li>
</ul>
<p class="caption"><span class="caption-text">Notice</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notice.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notice.html#trademark-notice">Trademark Notice</a></li>
</ul>

            
			
				<h3>Versions</h3>
				<ul>
				  <li><a href=""></a></li>
				</ul>
			
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Xilinx Alveo Graph Analytics Products</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../cosinesim/usecases.html">Recommendation System</a> &raquo;</li>
        
          <li><a href="../cosinesim/getting-started-tg.html">Getting Started Guide for TigerGraph Users</a> &raquo;</li>
        
          <li><a href="demos.html">Xilinx Recommendation Engine Use Cases</a> &raquo;</li>
        
          <li><a href="synthea.html">Recommendation Engine Synthea Demo</a> &raquo;</li>
        
      <li>Synthea Demo Query Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="synthea-demo-query-reference">
<h1>Synthea Demo Query Reference<a class="headerlink" href="#synthea-demo-query-reference" title="Permalink to this headline">¶</a></h1>
<p>This section describes the queries supplied with the Synthea demo in greater detail.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Operating on the patient graph are a set of GSQL operations and queries for creating graph,
generating the patient vectors, and invoking the
cosine similarity operations of the Recommendation Engine.  The query source files can be found in the <code class="docutils literal notranslate"><span class="pre">query</span></code>
subdirectory under the demo directory.</p>
<p>The queries are organized by file into levels of operation.  Starting at the lowest level, the files are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">schema_xgraph.gsql</span></code>: Defines the graph schema – the types of vertices and edges</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_xgraph.gsql</span></code>: Loads the Synthea patient data from CSV files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>: Infrastructure queries for generating patient vectors and invoking cosine similarity operations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client.gsql</span></code>: Queries built on top of <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> queries that an application can invoke to control the
graph and cosine similarity operations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query.gsql</span></code>: Queries built on top of <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> to be invoked from a terminal window as a simple demo</p></li>
</ul>
<p>The following subsection describes the last three files in greater detail.</p>
</div>
<div class="section" id="base-gsql-queries">
<h2>Base.gsql Queries<a class="headerlink" href="#base-gsql-queries" title="Permalink to this headline">¶</a></h2>
<p>The queries of <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> generally return raw data as GSQL data objects using GSQL <code class="docutils literal notranslate"><span class="pre">RETURN</span></code> statements.
The queries are intended to be called from higher-level queries that determine the appropriate style of output
for their intended uses.  The main queries in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">patient_vector</span></code>: Given a patient vertex, this query returns a patient vector.  The query pulls data from
the patient vertex itself and walks the edges of the patient vertex to pull data from the patient’s medical
history nodes.  To form feature maps (vectors of features) for group attributes, the query calls
<code class="docutils literal notranslate"><span class="pre">udf_get_similarity_vec</span></code>, a UDF defined as part of this Synthea demo.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_embed_vectors</span></code>: This query traverses all patient vertices, calls <code class="docutils literal notranslate"><span class="pre">patient_vector</span></code> to form
the patient vector for each patient, and embeds the vector into the patient vertex.  Cosine similarity operations
use these embeddings, so this query must be called first.  In a typical database application,
embeddings would be created in bulk at data loading time, and individually as the database is updated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_match_sw</span></code>: This query performs a cosine similarity search using only the CPU, for comparison
purposes with the hardware-accelerated version.  To save on redundant calculations, it leverages a partial
computation (the cosine similarity “normal” for each vector) embedded into the patient vertex at the time</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_set_num_devices</span></code>: This query sets the number of Alveo U50 cards to use.  If the number of cards
is less than the total number of cards installed in the server, cards are chosen in an unspecified manner.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_graph_cosinesim_ss_fpga_core</span></code>: This query transfers all patient vectors to the Alveo card(s).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_ss_fpga_core</span></code>: Given a patient vertex and a number of results to return, this query invokes the
cosine similarity match operation on the Alveo card(s), returning the best-matching patients and the
cosine similarity score for that patient.</p></li>
</ul>
</div>
<div class="section" id="client-gsql-queries">
<h2>Client.gsql Queries<a class="headerlink" href="#client-gsql-queries" title="Permalink to this headline">¶</a></h2>
<p>The queries in <code class="docutils literal notranslate"><span class="pre">client.gsql</span></code> differ from their <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> counterparts in that the <code class="docutils literal notranslate"><span class="pre">client.gsql</span></code> queries
return their data in JSON format (using the GSQL <code class="docutils literal notranslate"><span class="pre">PRINT</span></code> statement), to facilitate processing of the data
from an application calling the query through TigerGraph’s REST interface.
The main queries in <code class="docutils literal notranslate"><span class="pre">client.gsql</span></code> include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_embed_vectors</span></code>: Creates the embeddings by calling <code class="docutils literal notranslate"><span class="pre">cosinesim_embed_vectors</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.
The returned data includes the execution time in milliseconds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_match_sw</span></code>: Performs a cosine similarity match using only the CPU by calling
<code class="docutils literal notranslate"><span class="pre">cosinesim_match_sw</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.  The output is a JSON array whose elements are a dictionary of
matching patient ID and consine similarity score.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_set_num_devices</span></code>: Sets the number of Alveo U50 cards to use by calling
<code class="docutils literal notranslate"><span class="pre">cosinesim_set_num_devices</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.  The query returns the number of devices set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_get_alveo_status</span></code>: Returns status information about the Recommendation Engine, such as
whether the patient vectors have been loaded into the Alveo card and the number of cards to use.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_load_alveo</span></code>: Transfers all patient vectors to the Alveo card(s) using
<code class="docutils literal notranslate"><span class="pre">load_graph_cosinesim_ss_fpga_core</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_cosinesim_match_alveo</span></code>: Invokes the cosine similarity match operation on the Alveo card(s), given
the target patient to match and the desired number of matches to return.
The output is a JSON array whose elements are a dictionary of matching patient ID and consine similarity score.
This query calls <code class="docutils literal notranslate"><span class="pre">cosinesim_ss_fpga_core</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code> to perform the work.</p></li>
</ul>
</div>
<div class="section" id="query-gsql-queries">
<h2>Query.gsql Queries<a class="headerlink" href="#query-gsql-queries" title="Permalink to this headline">¶</a></h2>
<p>The queries in <code class="docutils literal notranslate"><span class="pre">query.gsql</span></code> are simple demonstrations of post-processing the raw data of the <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>
queries.  These queries are not intended to be called from an application, as they produce human-readable
output in files.  The <code class="docutils literal notranslate"><span class="pre">match.sh</span></code> demo script uses these queries.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_ss_tg</span></code>: A CPU-based implementation of cosine similarity based on <code class="docutils literal notranslate"><span class="pre">cosinesim_match_sw</span></code>
in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_graph_cosinesim_ss_fpga</span></code>: Transfers all patient vectors to the Alveo card(s) using
<code class="docutils literal notranslate"><span class="pre">load_graph_cosinesim_ss_fpga_core</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosinesim_ss_fpga</span></code>: Runs a cosine similarity match operation in the Alveo cards(s) using
<code class="docutils literal notranslate"><span class="pre">cosinesim_ss_fpga_core</span></code> in <code class="docutils literal notranslate"><span class="pre">base.gsql</span></code>.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="usecases-log.html" class="btn btn-neutral float-right" title="Error Log Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="synthea-jupyter.html" class="btn btn-neutral float-left" title="Run Jupyter Notebook" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on May 18, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2022, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>